<!DOCTYPE HTML>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Jupyter Notebook を PDF に変換する方法 - Cookie Box</title>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-coy.min.css" integrity="sha512-LOT5F67SMZVdXMrvQe4S1ZHu5l6xk3CST2qqno9kY329OsJBBpybnq+fM9qG4ZSaNzPOjoGzHAeBamSSJyyuZg==" referrerpolicy="no-referrer" rel="stylesheet"/>
<script crossorigin="anonymous" defer="" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script crossorigin="anonymous" defer="" integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<link href="../../css/style.css?v=2025-10-19" rel="stylesheet" type="text/css"/>
<link href="../../css/cookie-box.css?v=2025-10-19" rel="stylesheet" type="text/css"/>
<script data-lang="ja" data-mainpage="false" defer="" id="app" src="../../funcs.js?v=2025-10-18"></script>
</head>
<body>
<div class="container">
<div id="sidebar"></div>
<main class="main">
<div id="smartphone-header"></div>
<div class="item">
<h1>Jupyter Notebook を PDF に変換する方法</h1>
<div class="categories"><a href="../categories/jupyter-notebook.html">Jupyter Notebook</a></div>
<div class="summary">
🍪この記事の内容:
<ul>
<li>Jupyter Notebook を HTML 経由で PDF に変換する (Playwright 使用)。この方法は、</li>
<ul>
<li>HTML の段階でコード行頭の空白を記号に置換するため、PDF からコードをコピーしてもインデント情報を保つ (ペースト後に記号を空白に再置換する必要はある)。</li>
<li>HTML の段階でフォントをカスタマイズしたり、「関係者外秘」と挿入したりもできる。</li>
<li>Playwright を使用することで用紙サイズや倍率や余白を固定 (OR 引数指定) できる。</li>
</ul>
</ul>
</div>

Jupyter Notebook を PDF に変換する方法は色々ある (以下)。この記事には方法 4. で変換するスクリプトの例を示す。ただし、方法 2. で十分であればこちらのほうがチームメンバー全員がやりやすいはずである。

<ol>
<li>Jupyter Notebook / JupyterLab をインストールすると自動的にノートブック変換パッケージ <a href="https://nbconvert.readthedocs.io/en/latest/install.html">nbconvert</a> もインストールされるので、<code class="language-">jupyter nbconvert --to pdf notebook.ipynb</code> (または Jupyter Notebook を開いていればブラウザ上のメニューからエクスポートしても同じ) というコマンドが用意されている。<span class="doughnut">が、この方法は LaTeX を経由するため LaTeX が必要である。また、HTML をレンダリングしないため、pandas.DataFrame (の Styler) をアウトプットセルに表示している場合は無視される。</span></li>
<ul class="small">
<li>なお、この方法で LaTeX テンプレートをカスタマイズする方法は以下を参照。</li>
<ul>
<li><a href="https://qiita.com/CookieBox26/items/00d4ece34240c1e9c849">Jupyter Notebook を PDF に変換するときのテンプレート修正 - Qiita</a></li>
<li><a href="https://qiita.com/CookieBox26/items/06170d912bc018f84173">PDF 変換した Jupyter Notebook からコードをコピーするとインデントの空白がコピーできない問題への対処法 - Qiita</a></li>
</ul>
</ul>
<li>Jupyter Notebook のメニューから印刷を選んで PDF に印刷する方法もある。これは内部的に HTML を経由するため LaTeX が不要で pandas.DataFrame もレンダリングされる。<span class="doughnut">ただし、(a) 印刷された PDF からテキストをコピーするとき空白が崩れることが多いので、コードをコピーしたい場合は不便である (これは 1. でも同様)。また、(b) ブラウザから他の Web ページを印刷するために用紙サイズや余白や倍率を変更した場合、設定を戻す必要がある。</span></li>
<li>方法 2. の課題 (a) を克服したい場合は、一旦コマンドまたはブラウザ上のメニューで HTML に変換し、この段階でコードの行頭の空白を明示的に記号に置換しておくのが一つの方法である (コードをコピー＆ペースト後に記号を空白に再置換する必要はある)。必要なら、その他の好きな修正もできる。あとは修正した HTML をブラウザの印刷メニューから OR ブラウザのヘッドレスモードを呼び出して PDF に印刷すればよい (<a href="https://qiita.com/CookieBox26/items/c73c164863fb57f63887#fn-1">参考</a>)。</li>
<li>さらに方法 2. の課題 (b) も克服したい場合は、ブラウザ操作ライブラリで用紙サイズや余白や倍率を指定して変換するのが一つの方法である。</li>
</ol>
<h2>参考文献</h2>
<ol class="ref small"><li>Using as a command line tool — nbconvert 7.16.6 documentation, <a class="asis" href="https://nbconvert.readthedocs.io/en/latest/usage.html"></a>, 2025年10月9日参照.</li><li>Page | Playwright Python#page-pdf, <a class="asis" href="https://playwright.dev/python/docs/api/class-page?#page-pdf"></a>, 2025年10月9日参照.</li></ol>
<h2>Jupyter Notebook を HTML 経由で PDF に変換するスクリプトの例 (Playwright 使用)</h2>
以下のスクリプトにノートブックのパスを指定し <code class="language-">python nb2pdf.py aaa/bbb/ccc.ipynb</code> と実行すると aaa/bbb/tmp.html を経由して aaa/bbb/ccc.pdf にする。<a href="https://pypi.org/project/playwright/">Playwright for Python</a> と <a href="https://pypi.org/project/beautifulsoup4/">Beautiful Soup 4</a> が必要である。

<ul>
<li>中間 HTML への加工処理 [2a] [2b] [2c] が不要な場合は Beautiful Soup 4 は不要であり、<code class="language-python">html_path.read_text(encoding='utf8')</code> をそのまま <code class="language-python">page.set_content()</code> に渡せばよい。ただし [2a] を省くと PDF からコードをコピーした際にインデント情報が失われる。</li>
</ul>
<script src="https://gist.github.com/CookieBox26/835c16fb140391d49120f2cbbde69e3e.js"></script>
</div>
</main>
</div>
</body>
</html>
